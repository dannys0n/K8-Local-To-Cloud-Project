⚠️ This README was automatically generated by AI (keyword-retrieval RAG → OpenRouter → LLM) every push to main via Actions and may be inaccurate.
Model: liquid/lfm-2.5-1.2b-instruct:free
Generated: 2026-02-17 08:02 UTC

---
Below is a complete GitHub README file using only the provided source files. No extra files are added or modified.

```
README
# Game Backend GitHub Repository

This repository contains the Python codebase for the game backend, including FastAPI endpoints, Kubernetes bindings, database integration, client simulation, and lifecycle scripts.

## Files Included

- `src/app`: Main backend logic, Databases, Routing, Settings
- `src/app/backend/main.py`: API gateway and match session management
- `src/app/backend/k8s_game_server.py`: Game server Pod management
- `src/app/load`: Testing utilities, lifecycle simulation, health checks
- `src/app/load/client.py`: Game client simulation for testing
- `src/app/load/main.py`: Command-line interface for dependency injection

## Development & Run instructions

### Prerequisites
- Kubernetes cluster
- Python 3.11+ (or compatible)
- Docker
- kubectl, kubectl-azk, drones
- Redis, MongoDB, PostgreSQL exposed (for testing)
- A valid environment variable `TARGET_URL` for the local API

### Build

```bash
# Build backend and proxy
make up
make game-testbed
make proxy-port-forward-local
```

### Run

#### Start Cluster (for testing)

```bash
kubectl apply -f src/databases/namespace.yaml
kubectl apply -f src/databases/postgres.yaml --namespace databases
kubectl apply -f src/databases/redis.yaml --namespace databases
kubectl apply -f src/scripts/cluster.sh
```

***Or manually with env:***
```bash
# Make sure redis and database ports are exposed
kubectl port-forward svc/mulac/mulac-node-0 containers:PATH_TO_CMD
```
> Note: `mulac` is used for integration testing; connect accordingly.

#### Start Game Backend API
```bash
python3 src/app/load/main.py --url http://0.0.0.0:8080 --match-duration 30
```

#### Test Match Join (via curl)
```bash
curl -X POST http://localhost:8080/api/match/join -d '{
  "player_id": "player123",
  "connect_host": "127.0.0.1",
  "connect_port": 8080
}' -H "Content-Type: application/json"
```

#### Start Game Server Pods (for probing)
In a Kubernetes cluster:
```bash
kubectl apply -f src/k8s/game-server/basic.yaml
```
Then find the pod IPs/hosts and reference them directly in client scripts.

For full integration testing, consider using the `drones` client libraries for Kubernetes.

## Usage & Notes

- **Health Check:**_TRANSIT ONLY health endpoint available at `/health`.
- **Match Duration:** Can be adjusted via `--match-duration`.
- **Match State Ending:** Matched state transitions are logged.
- **Alerting:** Listen to `/console` output for deployment events.
- **Persistent Services:** Use services names from fluentd or k8s dashboard.

## Contributing

Containors should contribute by following the style guide in `README.md`.

## License

MIT
```
