⚠️ This README was automatically generated by AI (keyword-retrieval RAG → OpenRouter → LLM) every push to main via Actions and may be inaccurate.
Model: qwen/qwen3-next-80b-a3b-instruct:free
Generated: 2026-02-14 00:54 UTC

---
# Kubernetes Local Development Environment

A set of scripts and manifests to set up a local Kubernetes development environment with monitoring, management, and database services.

## Features

- **Monitoring**: Grafana and Prometheus installed in the `monitoring` namespace
- **Management**: Portainer UI for Kubernetes cluster management
- **Databases**: Redis and PostgreSQL instances in the `databases` namespace
- **Port forwarding**: Automated port forwarding to access services locally
- **Test service**: Simple HTTP echo service for testing connectivity

## Installation

### Prerequisites
- Kubernetes cluster (minikube, kind, etc.)
- `kubectl` configured
- `helm` installed
- `redis-cli` installed (for ping tests)

### Setup

```bash
# Install all components
make up

# Or install components individually:
make cluster        # Deploy cluster resources
make monitors       # Deploy Grafana & Prometheus
make managers       # Deploy Portainer
make databases      # Deploy Redis & PostgreSQL
make port-forward   # Start port forwarding tunnel
```

## Services Access

After running `make up`, access services at:

- **Grafana**: http://localhost:3000
  - Admin password: `kubectl get secret --namespace monitoring -l app.kubernetes.io/component=admin-secret -o jsonpath="{.items[0].data.admin-password}" | base64 --decode ; echo`
- **Prometheus**: http://localhost:9090
- **Portainer**: http://localhost:9000 (create admin on first visit)
- **Redis**: localhost:6379
- **PostgreSQL**: localhost:5432 (user: `postgres`, password: `postgres`, database: `app`)
- **Test Service**: http://localhost:8080 (exposed via `kubectl port-forward servie/echo -n test 8080:80`)

## Utilities

```bash
# Verify Redis connectivity
make ping-redis

# Verify PostgreSQL connectivity  
make ping-postgres

# Check pod status
make status

# Tear down all resources
make down
```

## Configuration

- **Portainer**: Configured in `src/managing/portainer-values.yaml`
- **DBs**: Configured in `src/databases/postgres.yaml` and `src/databases/redis.yaml`
- **Port forwarding**: Managed by `src/scripts/port-forward.sh` - edits required to add new services

> Note: Port forwarding is persistent. If you need to restart, run `make down` followed by `make up`.
